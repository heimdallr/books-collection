<!DOCTYPE html>
<html lang="en">
<head>
    <title>FAQ FLibrary</title>
	<meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="img/FLibrary.ico">
    <link id="theme" rel="stylesheet" href="css/style2.css">
</head>
<body>
<div id="content">
 <button id="styles" onclick="toggleTheme()">Style</button>
    <script>
        function toggleTheme() {
            let theme = document.getElementById('theme');

            if (theme.getAttribute('href') == 'css/style2.css') {
                theme.setAttribute('href', 'css/style1.css');
            } 
			else {
                theme.setAttribute('href', 'css/style2.css');
            }
                                  }
     </script>
  <h1 id="header">Frequently asked questions</h1>
<details>
   <summary>&#128211; How does this distribution differ from the original versions?</summary>
<p>First of all, what makes this distribution different is the selection of books. The probability that a book is not here but is in the ‘original’ distributions is minimal. If you find such a book, it is an extraordinary event, so please contact me.
<br>Now about the differences.
<br>The main difference is size. That's why this distribution exists.
<br>Additional bonuses:</p>
<ul>
<li>Books with xml structure violations fixed.</li>
<li>Fixed or removed damaged illustrations.</li>
<li>The duplicates that annoyed so many people have been removed (not all of them, of course).</li>
<li>There are also comments from readers of the Flibusta website and brief information about some of the authors.</li>
<li>In addition, the FLibrary cataloguer is distributed here; it's better, better than <s>a dog</s> MyHomeLib.</li>
</ul>
<details>
   <summary class="subtitle"> Why is the quantity of books different?</summary>
<ul class="top10">
<li>Duplicates removed</li>
<li>Zero-size files removed</li>
<li>Files removed, cut off in the middle</li>
<li>Unindexed files have been added, i.e. those that are found in archives but not in Flibusta/LibRusEc dumps</li>
</ul>
</details>
<details>
    <summary class="subtitle"> Then why is this distribution so much smaller in size?</summary>
<p class="subtitle">The reduction in size was achieved as follows:</p>
<ul>
<li>The text of the books and illustrations are stored separately.</li>
<li>Texts are compressed in 7z, which is much more efficient than zip.</li>
<li>Images are recoded in JPEG XL, which is more efficient than JPEG and PNG.</li>
<li>Reviews and information about authors are small in size, ~1 GB.</li>
<li>Remote duplicates also provide a 5% saving.</li>
<li>Broken and irreparable images have been removed, but that's nothing.</li>
</ul>
<p class="subtitle">Bonus - you don't have to download pictures, reviews, and information about authors at all, which reduces the size by <b>two-thirds</b>.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; How will the distribution be updated?</summary>
<details>
    <summary class="subtitle"> Just like the "original" ones, in the mode of adding new archives</summary>
<p> <b>(⊙_⊙) Caution!</b> Distribution is carried out by adding new archives; each addition creates a new torrent. To start downloading a new archive, users need to do the following:</p>
<ol>
<li>Stop downloading.</li>
<li>Delete the old torrent from your client, but without deleting the distribution files.</li>
<li>Download the new torrent and run it in your client instead of the old one, specifying the path to the old folder where the new archives should be downloaded.</li>
</ol>
<p>Your client must hash (verify) the old folder (if they don't do it themselves, help them do it). As a result, they will only download the archives that you don't have yet. The old archives are not deleted, but continue to be distributed!</p>
<p>If you have already deleted old archives, you can prevent them from being downloaded again by unchecking the appropriate boxes when starting a new torrent. If possible, it is advisable not to delete old archives for as long as possible. This will help other people download the distribution faster.</p>
<hr class="lite">
</details>
<p>I will endeavour to update the distribution at the beginning of the month.
<br>The updates contain:</p>
<ul>
<li>A pair of new 7z archives with books in fb2 format, without images</li>
<li>4 new zip archives with images: covers and illustrations</li>
<li>Updating the index file *.inpx</li>
<li>Replacing FLibrary distro with current ones, if a release has occurred</li>
<li>Update of the latest archive with reader reviews + new (monthly) archive with reader reviews</li>
<li>Update of the latest archive with information about authors + new archive, if enough new entries about authors have accumulated</li>
</ul>
<p>Thus, each monthly update should minimally affect previously downloaded files.</p>
<p>Sadly, this approach isn't ideal for reader feedback and author info because of regular updates to old entries on the site. So, sometimes these files will be re-uploaded all at once, as edits to old entries pile up or for technical reasons.</p>
<hr>
</details>

<details>
   <summary>&#128211; Will my favourite cataloguer work with this distribution??</summary>
<p>No, it won't.</p>
<details>
    <summary class="subtitle"> And MyHomeLib won't either?</summary>
<p class="subtitle">And MyHomeLib won't either.</p>
<p class="subtitle">At least, not to the extent that it should be. Yes, index file *.inpx in the distribution is compatible with MyHomeLib, meaning you can create a collection. But why? You won't be able to export books from it. And the collection itself won't be correct, as MyHomeLib doesn't support multi-series books, so it will create multiple copies of books that are part of several series. In short, it's a mess.</p>
</details>
<details>
    <summary class="subtitle"> And xxxLib for yyyOS?</summary>
<p class="subtitle">I have neither the opportunity nor the desire to check all cataloguers available on the Internet for compatibility with the storage format I have developed. But I am almost certain that it will work. Check it yourself and let the community know. I will add the result of your check here, with a link to you, of course.</p>
</details>
<details>
    <summary class="subtitle"> And why?</summary>
<ul class="top10">
<li>7z</li>
<li>Images are separated from fb2</li>
</ul>
<p class="subtitle">Well, catalogues that support 7z archives may work, but with one limitation: the books they extract will be without pictures.</p>
</details>
<details>
   <summary class="subtitle"> And what to do?</summary>
<p>Use FLibrary</p>
<details>
    <summary class="subtitle"> I can't, I have Linux</summary>
<p class="sub_subtitle">Use wine.</p>
<p class="sub_subtitle">A console <a href="https://codeberg.org/aku4wb/flbs" target="_blank">script</a> for Linux that works with this distribution, from the esteemed razobit</p>
<details>
    <summary class="sub_subtitle"> what it can do=></summary>
<ul class="none_dot">
<li>search by author</li>
<li>search by book title</li>
<li>extracting a book with images in fb2</li>
</ul>
</details>
</details>
<details>
    <summary class="subtitle"> I can't, I have Windows 7</summary>
<p class="sub_subtitle">Yes, then you really can't. This deal is not for you, sorry.</p>
<details>
     <summary class="sub_subtitle"> write to us=></summary>
<p class="sub_subtitle">For Windows 7/2008R2 users - <a href="https://github.com/YuZhouRen86/VxKex-NEXT" target="_blank">VxKek</a> can be used on Windows 7. The most important thing is that the device is completely isolated from the network or in a completely closed network circuit. (c) HedgehogInTheCPP</p>
</details>
</details>
</details>
<hr>
</details>

<details>
    <summary>&#128211; How can I restore separately stored covers and illustrations to fb2?</summary>
<p>To work with this book storage format, the distribution includes the FLibrary cataloguer. When exporting books from the collection, FLibrary returns images to the fb2 body. The same happens when launching an external reader from FLibrary. And when downloading a book via OPDS. And via web interfaces. Regardless of the method, if a book is extracted from the collection using FLibrary, the result will be the same: images are returned to fb2, to their rightful places.</p>
<hr>
</details>

<details>
    <summary>&#128211; How to add a new collection?</summary>
<p>The dialog box for adding or creating a new collection can be accessed from the main menu of the programme.</p>
<p class="img"><img src="img/collection/0_400.jpg" alt="&#128558; No picture, bro!" class="img400">
<p>This dialog box appears when you first start the programme.</p>
<p class="img"><img src="img/collection/1_700.jpg" alt="&#128558; No picture, bro!" class="img700"></p>
<p>In the dialogue box, you should specify:
<br>1. Name of the collection.
<br>2. Path to the database file.
<br>3. The path to the folder with book archives, where the programme expects to find the index file *.inpx
<br>13. The path to the index file *.inpx, if it is located in a different folder than the book archive, or if you need to create a collection without a book archive.</p> 
<p>The buttons will help you avoid mistakes when filling in the form:
<br>5. Displays the database file selection dialogue box.
<br>6. Displays a dialog box for selecting a folder with book archives.
<br>4. Extracts the name from the collection index file, if found. For this to work, you must first specify 3 or 13.</p>
<p>If something has been filled in incorrectly, this will be indicated by error message 10.</p>
<p>After correctly filling in fields 1-3, you can click on button 11. The process of creating a collection will begin. This will not take long, depending on the performance of your processor and the speed of the drive on which you have decided to place the database. On my computer, creating a new collection — a local copy of Flibusta — takes about 25 seconds.</p>
<details>
    <summary class="subtitle"> Details, nuances</summary>
<p>You can specify an existing file as the database, for example, from an earlier version of the programme, or even from MyHomeLib. Then button 11 will change the text to "Add", and instead of creating a new collection, a collection from the specified file will be added. 
<br><b>(⊙_⊙) Caution!</b> After that, the database file will most likely not be usable in the programme in which it was created, because FLibrary will change its structure to suit itself.</p>
<p>Options for creating a collection:
<br>7. Add unindexed books, enabled by default. Books found in archives that are not listed in the archive index will be added to the collection. That is, they are in the archive but not in the index file.
<br>8. Add books missing from archives, disabled by default. All books available in the index will be added to the collection, even those whose files are not in the archive. That is, symmetrically to the previous one, if it is in the index, it may not be in the archive.
<br>9. Scan unindexed archives, disabled by default. FLibrary will scan all archives in the selected folder, including those not listed in the index file. This means that you can add other archives with books in fb2 format to the folder with archives, and they will be added to the collection. Of course, such scanning will take more time than a simple analysis of *.inpx.
<br>12. Mark unindexed books as deleted, enabled by default. Unindexed files are in the archive for historical reasons and usually have indexed copies.
<br>14. Archive type. If checkbox 8 is selected, there may be no archive for the indexed book in folder 3. In this case, an archive with a name from the index and the specified extension will be saved. This may be necessary when searching for the desired book without downloading the entire distribution.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; How to update your collection?</summary>
<p>Download the distribution update as usual. The next time you launch FLibrary, it will detect the change in the *.inpx index file and offer to update the collection. Agree, and in a few seconds everything will be ready. However, from time to time it makes sense to recreate the collection "‘from scratch", as the automatic update only pulls in data that was previously missing. Meanwhile, existing descriptions may contain useful corrections. Sometimes it is useful to recreate the collection when updating the FLibrary version, especially if this is recommended on the What's Changed page. When recreating the collection, do not forget to save the user data.</p>
<p>For the FLibrary HTTP server, there is a hidden setting <a href="#offlink1"> (see below)</a>, that causes it to silently update the collection when *.inpx changes.</p>
<hr>
</details>

<details>
    <summary>&#128211; How to find a book by title, author, series?</summary>
<p>It is better to search for authors and series in the relevant navigation sections, where you can not only search by list, but also filter it.
<br>But it is also possible to search for books by their title, author or series.</p>
<p class="img"><img src="img/search/0_1100.jpg" alt="&#128558; No picture, bro!" class="img1100"></p>
<p>Let's say you need to find the book "Tower and Knife" by Mazarkis Williams. The programme has a full-text search function for book titles, so you don't have to enter the entire title. It is enough to enter a few words, not necessarily in the order in which they appear in the title.</p>
<p class="img"><img src="img/search/1_1100.jpg" alt="&#128558; No picture, bro!" class="img1100"></p>
<p>Press Enter (or the magnifying glass icon on the left), and the programme will go to the "Search", navigation section and display the search results in the book window</p>
<p class="img"><img src="img/search/2_1100.jpg" alt="&#128558; No picture, bro!" class="img1100"></p>
<p>That would be the end of it, but I will add:</p>
<ul>
<li>Search queries are stored in the "Search" section, where they can be selected for repeated use</li>
<li>You can add a search query in the same section by clicking the plus button</li>
<li>Unnecessary requests can be deleted using the cross button</li>
</ul>
<details>
    <summary class="subtitle"> Search queries have accumulated. How can I delete them? It's inconvenient to do it one by one.</summary>
<ol class="top10">
<li>Select all (Ctrl+A) or only unnecessary queries (mouse + Ctrl or Shift)</li>
<li>Press the delete button on one of the selected items</li>
<li>Confirm deletion in the dialogue box that appears</li>
</ol>
<p class="subtitle">The same applies to the list of groups.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; Is it possible to sort books by several columns?</summary>
<p>Yes, you can. Hold down Shift while clicking on the column headers.</p>
<hr>
</details>

<details>
    <summary>&#128211; I want to see books in only one language. Or two. Can you remove the others?</summary>
<p>Yes, you can. Go to Settings/Filters to open the filter settings dialogue box</p>
<p class="img"><img src="img/filter/0_500.jpg" alt="&#128558; No picture, bro!" class="img500"></p>
<p>Go to the "Languages" tab, tick the languages you do not want to see in the "Books filtered" column. Tick "Filter enabled", click "Apply.</p>
<p class="img"><img src="img/filter/1_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>That's it, books in unwanted languages are hidden. You can hide languages from navigation (left pane of the main window) by ticking the "Hidden" column.
<br>The same method can be used to remove unnecessary authors, series, genres and keywords.</p>
<p><b>(⊙_⊙) Caution!</b> Checkboxes are independent — after removing an element from navigation, you will continue to see books related to this element from other navigation elements/sections. Conversely, if you filter books by a navigation element, you will continue to see that navigation element in its section, and when you select it, you will see the filtered books (if they have not been filtered by another element).</p>
<p>The dialogue box has a search/filter function, and the column headers with checkboxes have a context menu.</p>
<p class="img"><img src="img/filter/2_700.jpg" alt="&#128558; No picture, bro!" class="img700"></p>
<p>The "Quick filter" by language is still available from the context menu of the language column header in the books table.</p>
<p class="img"><img src="img/filter/3_1000.jpg" alt="&#128558; No picture, bro!" class="img1000"></p>
<hr>
</details>

<details>
    <summary>&#128211; Is it possible to physically remove books I don't need from the archives?</summary>
<p>Yes, you can. The programme has a feature that allows you to physically clean up your collection by deleting files from the archive and records from the database. The function for deleting files from the archive is initially blocked. To unblock it, select "Allow destructive operations" in the "Collection" main menu. After confirming your intention to continue and agreeing to the risk of permanent loss of books, the "Delete forever" option will be activated in the context menu of the books. It will also activate the checkbox 7 "Delete forever along with book files from the archive", <a href="#offlink3">see below</a>.</p>
<p class="img"><img src="img/cleanup/0_400.jpg" alt="&#128558; No picture, bro!" class="img400"></p>
<p>When you select the "Clean..." menu item, the collection cleaning criteria window will pop up.</p>
<p class="img"><img src="img/cleanup/1_1100.jpg" alt="&#128558; No picture, bro!" class="img1100"></p>
<p>FLibrary supports the following criteria:
<br>1. "Deleted" books. When this criterion is selected, books marked as deleted in the database will be removed from the collection.
<br>2. Duplicate books. The programme considers books with the same title and at least one author in common to be duplicates. If you select this criterion, all such books will be deleted except for the one that was added to the collection last. This means that different editions or translations of the same book will be considered duplicates. Please be careful.
<br>3. Genres. You can mark unwanted genres. This criterion has an additional setting, implemented with radio buttons:</p>
<ul>
<li>Exact match. When selected, books will be deleted whose genres are all included in the set selected for deletion.</li>
<li>Exact match. Books with at least one genre selected for deletion will be deleted. This is a very dangerous option.</li>
</ul>
<p class="null">4. Languages. You can mark unwanted languages. It should be understood that the actual language of the text of many books does not match that specified in the description or in the fb2 metadata.
<br>5. By size. When this criterion is selected, books whose file size is smaller than the minimum or larger than the maximum value will be deleted.
<br>6. By rating. If the library rating of the book is lower than specified and/or there is no rating, i.e. no one has rated the book yet.
<br>9. Compilations.</p>
<p>After carefully placing the check marks, press button 8 "Analyse collection", wait a short time for the collection to be analysed for compliance with the specified criteria, and then you will see a message with the result</p>
<p class="img"><img src="img/cleanup/2_500.jpg" alt="&#128558; No picture, bro!" class="img500"></p>
<p>This is your last chance to change your mind and click "No". But if you click "Yes", the programme will start deleting books.</p>
<p id="offlink3"><b>(⊙_⊙) WARNING!</b> If checkbox 7 is checked, the book files will be physically deleted from the archives, and their records will be deleted from the database. This may take a long time, depending on the number of books being deleted, the power of the computer, the performance of the disk on which the collection is located, etc. But not very long. If checkbox 7 is not checked, the books will simply be hidden in the FLibrary interface.</p>
<p>After cleaning the collection, it makes sense to deactivate destructive operations.</p>
<hr>
</details>

<details>
    <summary>&#128211; How do I convert a book from fb2 to the format I need?</summary>
<details>
    <summary class="subtitle"> I'm too lazy to read so much, can you make it faster?</summary>
<p class="subtitle">Yes, you can. Set this registry key by adjusting the paths:</p>
<p class="code">Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\a1e61de4-da10-4015-a7c3-91453cd0e215]
"Name"="Конвертація в epub"
"Number"=dword:00000001
"Type"="ExportToDevice"

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\a1e61de4-da10-4015-a7c3-91453cd0e215\37fe0cd3-35ee-4521-85a9-5b3f00138585]
"Command"="D:\\programs\\MyHomeLib\\converters\\FB2ePub\\Fb2ePub.exe"
"Arguments"="\"%source_file%\" \"D:/books/%author%/[%series%/[%seq_number%-]]%title%.epub\""
"Number"=dword:00000002
"Type"="LaunchApp"

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\a1e61de4-da10-4015-a7c3-91453cd0e215\3b791fea-5942-479d-b7e2-6c3c3f6862cd]
"Command"="mkdir"
"Arguments"="\"D:/books/%author%/[%series%]\""
"Number"=dword:00000001
"Type"="System"
</p>
<hr class="lite">
</details>
<p>FLibrary does not have built-in converters, but it is possible to add any external converter if it has a command line interface. For example, you can borrow the necessary converter from the MyHomeLib collection. To call an external converter from FLibrary, you need to configure scripts, one for each desired format.</p>
<p>1. In the main menu, select Settings/Scripts...</p>
<p class="img"><img src="img/convert/0_500.jpg" alt="&#128558; No picture, bro!" class="img500"></p>
<p>2. In the window that appears, click "Add script"</p>
<p class="img"><img src="img/convert/1_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>3. A line will appear at the top of the window ("Scripts") where you can enter the desired name for the script.</p>
<p class="img"><img src="img/convert/2_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>Now you need to add script commands. Which ones exactly depends on the selected external converter. A typical set consists of two commands: 
<br>1. create a folder 
<br>2. run the converter. 
<br>So, let's add the commands.</p>
<p>4. Click "Add command"</p>
<p class="img"><img src="img/convert/3_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>5. Four lines will appear at the bottom of the "Command Settings" window. In the first line, “Type” (1), select "System" from the drop-down menu.</p>
<p class="img"><img src="img/convert/4_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>6. In the second line, "Command" (2), enter <b>mkdir</b> , i.e. create a folder.</p>
<p>7. In the third line, ‘Arguments’ (3), enter the desired path. <b>(⊙_⊙) CAUTION!</b> Slashes must be in Windows style, i.e. like this: \ . It is advisable to enclose each argument in quotation marks. Example:</p>
<p class="code">"d:\books\epub"</p>
<p>Save the result - "OK"</p>
<p class="img"><img src="img/convert/5_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>7. Add a command to launch the converter: click "Add command"</p>
<p class="img"><img src="img/convert/6_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p>8. In the first line, "Type" (1), select "Launch console application" from the drop-down menu, 
<br>then click on the programme selection icon in the second line, "Command" (2).</p>
<p class="img"><img src="img/convert/7_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<p class="note">* Purpose of the fourth line, "Working folder" (4) — see below, <a href="#offlink4">"Details, nuances"</a></p>
<p>9. In the file selection dialogue box that appears, specify the desired external converter:</p>
<p class="img"><img src="img/convert/8_900.jpg" alt="&#128558; No picture, bro!" class="img900"></p>
<p>10. Add the converter launch parameters in the "Arguments" line (3). This converter requires the paths to the source and converted files. Enter</p>
<p class="code">"%source_file%" "d:\books\epub\book.epub"</p>
<p>Save the result - "OK"</p>
<p class="img"><img src="img/convert/9_700.jpg" alt="&#128558; No picture, bro!" class="img700"></p>
<p>11. Save the script</p>
<p class="img"><img src="img/convert/10_700.jpg" alt="&#128558; No picture, bro!" class="img700"></p>
<p>That's it, the script is ready. From now on, in the context menu of books, in the Export submenu, there will be an item "Convert to epub", i.e. the name of the script from point 3</p>
<p class="img"><img src="img/convert/11_900.jpg" alt="&#128558; No picture, bro!" class="img900"></p>
<p>If you select it, the file 'book.epub' will appear in the folder d:\books\epub.</p>
<p>Probably, few people would want to convert books to the same file every time, because they want the files to be saved in folders named after the authors and named after the book titles. To do this, macros should be used in the script commands when specifying folders. For example, to make sure the path to the book includes its author and series (if any), and the file name includes the series number (if any) and the book title, you should enter the following line in "Arguments" (3):</p>
<p class="code">"d:\books\epub\%author%\[%series%\[%seq_number%-]]%title%.epub"</p>
<p>A complete list of available macros is available from the Arguments editing context menu</p>
<p class="img"><img src="img/convert/12_1200.jpg" alt="&#128558; No picture, bro!" class="img1200"></p>
<details>
    <summary class="subtitle"> Details, nuances</summary>
<ol class="top10">
<li>It is important to note that some converters cannot create folders, so before running them, you need to create a folder using the system command "mkdir", specifying the full path (using macros). Then, when adding the first and second commands, the "Arguments" lines will look like this:
<p class="code">
"d:\books\%author%\[%series%]"

"%source_file%" "d:\books\%author%\[%series%\[%seq_number%-]]%title%.mobi"</p>
</li>
<li>It should also be noted that when converting books with the same title (for example, when you decide to download two different translations of the same book), the converter will overwrite the previous file with the next one, meaning that there will only be one book in the folder. To avoid this, you should add additional identification macros. For example:
<p class="code">
"%source_file%" "d:\books\epub\%author%\[%series%\[%seq_number%-]]%title%_%db_id%.epub"</p>
</li>
<li>Some convectors require additional commands to operate, such as start keys and the use of third-party configuration files. The FLibrary script allows you to write additional commands and/or specify a working folder <a href="#offlink4">(cwd)*</a> for additional programme files. 
<br>In particular, the fb2 to lrf converter (fb2lrf.exe - for conversion to the format of the ancient Sony PRS-350 (650, 600...) reader) requires keys for the input and output files, as well as the attachment of the default style file. Therefore, the "Arguments" line for this converter will look like this:
<p class="code">
"-i "%source_file%" -o "d:\books\%author%\[%series%\[%seq_number%-]]%title%_%db_id%.lrf" -s "c:\Program Files\FLibrary\converters\fb2lrf\default_styles.sini"</p>
<br>or
<br>
<br>In the "Arguments" line, enter the input and output files with keys:
<p id="offlink4" class="code">
"-i "%source_file%" -o "d:\books\%author%\[%series%\[%seq_number%-]]%title%_%db_id%.lrf"</p>
<br>and in the "Working folder" line, select the folder of the default styles file.
<p class="img"><img src="img/convert/13_1200.jpg" alt="&#128558; No picture, bro!" class="img1100"></p>
<p class="note">* CWD (Current Workind Directory) is the folder from which the programme is launched, which is the root for the relative paths of the files it opens. For example, here is how to work with the fb2lrf_c.exe converter, which requires a configuration file. If you run it manually from its own folder or, equivalently, run it programmatically (from FLibrary), specifying its own folder as CWD, then the configuration file can be specified as -s default_styles.sini. Or you can not specify it at all, because by default it tries to use this file, and in this case it will succeed.
<br>----------------------------------</p>
</li>
<li>If you convert files to a different location each time, you should specify relative paths in the ‘Arguments’ lines (in this case, the programme will ask for the path to the destination folder each time):
<p class="code">"%user_destination_folder%\%author%\[%series%]"

"%source_file%" "%user_destination_folder%\%author%\[%series%\[%seq_number%-]]%title%_%db_id%.epub"
</p>
</li>
</ol>
</details>
<hr>
</details>

<details>
    <summary>&#128211; I selected the ‘All Books’ navigation section. How do I exit it now?</summary>
<p>Follow any link from the annotation to any book.</p>
<p class="img"><img src="img/all_books/0_1000.jpg" alt="&#128558; No picture, bro!" class="img1000"></p>
<hr>
</details>

<details>
    <summary>&#128211; How to find out if the book I need is available?</summary>
<p id="offlink5">There are several options:</p>
<details>
    <summary class="subtitle"> with cataloguizer (recommended)</summary>
<ol>
<li>Download the index file *.inpx and one of the FLibrary installers, according to your preference</li>
<li>Installing FLibrary</li>
<li>Create a collection based on an index file with the option "Add books missing from archives"</li>
<li>Search for the book you need in the programme</li>
</ol>
</details>
<details>
    <summary class="subtitle"> with the contents file</summary>
<p class="subtitle">Download the file contents.7z. The archive contains text files in csv format, one file per language. Each line of the file describes one book. Format: author, title, series (number in the series), archive, file. The separator is a tab.
<br>This method is useful if you are satisfied with a book without a cover and illustrations. Otherwise, you will still have to download and install the categorizer.</p>
</details>
<details>
    <summary class="subtitle"> with an index file</summary>
<p class="subtitle">Download the index file *.inpx. It is a regular zip archive containing text files *.inp, where each line describes one book in the distribution. The line is csv, the separator is a byte with code 04. List of fields: 
AUTHOR; GENRE; TITLE; SERIES; SERNO; FILE; SIZE; LIBID; DEL; EXT; DATE; LANG; LIBRATE; KEYWORDS; YEAR; SOURCELIB
<br>You can search the files for text using your favourite text viewer. I recommend the one built into Far Manager.
<br>This method is useful if you are satisfied with a book without a cover and illustrations. Otherwise, you will still have to download and install the categorizer.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; How to get the book you need without downloading the entire distribution?</summary>
<ol class="top10"> 
<li> Let's find out if the book you need is available. <a href="#offlink5">See the instructions above.</a></li>
<li> Find out the name of the archive where the book is located</li>
<li> Download this archive, put it under FLibrary</li>
<li> Get the book file
<br> ...
<br> PROFIT!!!! Now the book can be exported from FLibrary.</li>
</ol>
<details>
    <summary class="subtitle"> You don't even need to download the archive</summary>
<p class="subtitle">, instead, you can configure the script to download the book you want directly from the Flibusta website. You will also need a console application for downloading files from the Internet (e.g. curl), which you will need to download and install. If you have the standard version of FLibrary installed by the installer, you can use a registry key to configure the script.</p>
<details>
   <summary class="sub_subtitle"> Here it is=></summary>
<p class="code">Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\933c6488-b061-44d6-82fa-6257a6144f0f]
"Name"="Завантажити з Флібусти"
"Number"=dword:00000001
"Type"="ExportToDevice"

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\933c6488-b061-44d6-82fa-6257a6144f0f\b2206572-8ef6-4a69-8f97-71bcb151505d]
"Command"="mkdir"
"Arguments"="\"c:/books/%author%/[%series%]\""
"Number"=dword:00000001
"Type"="System"

[HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary\Scripts\933c6488-b061-44d6-82fa-6257a6144f0f\d27e10fd-3816-41b1-af5b-a9a17043ad12]
"Command"="D:\\programs\\curl\\bin\\curl.exe"
"Arguments"="-o \"c:/books/%author%/[%series%/[%seq_number%-]]%title%.zip\" -L \"http://x.flibusta.is/b/%lib_id%/download\""
"Number"=dword:00000002
"Type"="LaunchApp"
</p>
</details>
<p class="subtitle"><b>(⊙_⊙) CAUTION!</b> The path to curl in the script must match where you installed it. If you are downloading with a programme other than curl, you must change the command line parameters according to its syntax. Also, adjust the path where the books will be downloaded to your liking. In the suggested registry file, this is c:/books.
If you prefer the portable version of FLibrary, then you are most likely an experienced user and will easily configure everything yourself. But if you encounter any difficulties, please ask, I will be happy to help.</p>
<p class="subtitle"><b>(⊙_⊙) CAUTION!</b> It will only work for books from Flibusta. Librusec probably offers this option too, but the link will be different. If you know what it is, let me know and we'll add it here.</p>
</details>
<details>
    <summary class="subtitle">You can even do without external tools</summary>
<p class="subtitle">, but you will still have to configure the script. However, now you don't need curl, and one command built into FLibrary is enough.</p>
<ol class="top10">
<li>Add the script</li>
<li>We call it something like "Download from Flibusta"</li>
<li>Add the command</li>
<li>Select the "Built-in command" type from the drop-down menu</li>
<li>Select the "Download" command</li>
<li>Set the command parameters (where to put, where to download from). To download from Flibusta to the t:/ftp folder, specify
<p class="code">
-o "t:/ftp/%author%/[%series%/[%seq_number%-]]%title%.zip" "http://x.flibusta.is/b/%lib_id%/download"
</p>
<br>In your case, specify any valid path, such as c:\books. It is up to you, as long as the drive is in the system and you have write permissions. You can also change the path template. In the context menu of the argument input line, there is a context menu with available macros.</li>
<li>Save the result</li>
</ol>
<p class="subtitle">After these simple steps, the menu item ‘Download from Flibusta’ will appear in the context menu of the books, and the book will be downloaded when you select it.
<br>Provided your firewall and internet service provider do not object, of course.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; У мене вдома 5 комп'ютерів і 3 ноутбуки. Мені потрібно завантажувати роздачу і встановлювати FLibrary на всі ці пристрої?</summary>
<p>Не обов'язково. FLibrary надає деякі мережеві можливості у вигляді кількох http-сервісів. Для доступу до них необхідно запустити наявний в FLibrary http-сервер. Вибираємо пункт меню</p>
<p class="img"><img src="img/http/0_900.jpg" alt="&#128558; No picture, bro!" class="img900"></p>
<p>У діалоговому вікні, що відкрилося => Натискаємо Пуск і все, сервер запущено, тепер можна подивитися на його роботу. Для цього достатньо натиснути на написи, що стали клікабельними.</p>
<p class="img"><img src="img/http/1_600.jpg" alt="&#128558; No picture, bro!" class="img600"></p>
<ol class="top10">
<li><b>Веб-інтерфейс ReactApp.</b> У браузері відкриється сайт, розроблений шановним alloroc2. Тут можна шукати книги за назвою/автором/серією, завантажувати їх і навіть читати прямо там, на сайті. Дуже зручно. Інтерфейс сайту доволі інтуїтивний, а функціональність постійно розширюється.
<details>
    <summary class="sub_subtitle"> Опис від alloroc2=></summary>
<p class="sub_subtitle">Працювати через веб можна в браузері з будь-якого пристрою.
<br>Пошук при введенні тексту відразу з розділенням результатів за назвами, авторами та серіями.
<br>Перегляд груп книг, заздалегідь відібраних у програмі.
<br>Для обраної книги статистика + обкладинка, зміст із зазначенням розділів та місцем їх розташування в книзі.
<br>Обрану книгу можна читати, не виходячи з веб-інтерфейсу каталогізатора.
<br>Для зручності читання, перехід у повноекранний режим, а також прокрутка тексту.
<br>Налаштування шрифту та швидкість прокрутки "гарячими" клавішами.
<br>Прогрес прочитаного запам'ятовується в браузері.
<br>Відкрив вебку, знайшов книгу і випав з реальності.</p>
</details>
</li>
<li><b>Спрощений веб-інтерфейс.</b> Відкриється сторінка в браузері, що відповідає моїм знанням html. Там також є пошук, навігація по колекції, завантаження та читання. Але абсолютно без будь-якого дизайну, крайній мінімалізм. Вельми на поціновувача, але мені цього достатньо.</li>
<li><b>OPDS.</b> Відкриється сторінка в браузері з якимсь JSON'ом. Власне, за цією адресою треба переходити не браузером, а читалкою з підтримкою протоколу OPDS.</li>
</ol>
<p>При увімкненому http-сервері ці адреси доступні з будь-якого пристрою, що знаходиться в одній локальній мережі, тобто на іншому комп'ютері/смартфоні/планшеті можна зайти на два варіанти веб-інтерфейсу, а також підключитися читалкою до каталогу OPDS.</p>
<details>
    <summary class="subtitle"> Це тільки вдома буде працювати? А через інтернет не можна?</summary>
<p class="subtitle">Можна, але прокидати зазначені порти у зовнішній світ доведеться самостійно. Я в цьому не розбираюся настільки, що навіть не впевнений у змістовності попереднього речення. Гугліть "білий IP" і "тунелі CloudFlare.com". Буду вдячний за будь-які розумні слова в особисті повідомлення про це все.</p>
<details>
    <summary class="sub_subtitle"> розумні кажуть=></summary>
<p class="sub_subtitle">
(⊙_⊙) <br> доступ ззовні я прокинув через nginx - просто додав піддомен book.ххх.хх, отримав для нього сертифікат і тепер можна ходити по https, а nginx вже перенаправляє у внутрішній мережі на http.
<br>(c) SoloMen</p>
<hr class="lite">
<p class="sub_subtitle">(⊙_⊙) <br>Зміг з допомогою Tilescale. Що я власне зробив, щоб користуватися:</p>
<ol>
<li>Завантажив сам TileScale (десь на просторах інтернету кажуть, що є його опенсрусь аналог) на тапок і комп;</li>
<li>Увімкнув їх (тапок і комп) у загальну мережу з допомогою Tilescale;</li>
<li>Включив в FLibrary згідно з ЧаПи сервер і додав ту адресу, яка стоїть в Tilescale, в моєму випадку це виявилася прикріплена адреса 100.84.44. 127 (ті, хто теж будуть пробувати такий спосіб, може виявитися інша адреса, дивіться на сайті в панелі управління або в диспетчері завдань, натиснувши на графу з Tilescale, в графі IPv4-адреса під графіком буде власне сама адреса, яку і додаємо) для себе конкретно залишив увімкненим режим opds, його ж адресу і забив у рядок для AlReader'а;</li>
<li>Власне, профiт; 
<br> (c) AncientSUS</li>
</ol>
<p class="subtitle">UPD В налаштуваннях адреси http-сервера можна вказати "Будь-який", тоді сервіси будуть доступні через усі наявні інтерфейси: localhost, 127.0.0.1, локальна IP-адреса, тощо.</p>
</details>
</details>
<hr>
</details>

<details>
    <summary>&#128211; Що за бардак у роздачі з авторами та серіями?</summary>
<p>Це наслідки злиття Флібусти та Лібрусека в рамках однієї роздачі. Справді, неузгодженість іменування авторів та серій на Флібусті та Лібрусеку – серйозна проблема. Плюс різні підходи бібліотек до вирішення колізій повних тезок. Через це деякі імена тут можуть як "роздвоїтися", так і "схлопнутися", внаслідок чого книги одного автора в роздачі можуть бути "прив'язані" до різних, так і навпаки, книги різних авторів приписані одному. Те саме із серіями.</p>
<details>
   <summary class="subtitle"> І що зовсім нічого не можна зробити?</summary>
<p class="subtitle">На жаль, провести узгодження на рівні мережевих бібліотек-джерел книг для цієї роздачі навряд чи вдасться. Нам залишається лише вносити точкові виправлення. Якщо ви помітили, що якийсь автор або серія "роздвоїлися" або "схлопнулися" - повідомте про це мені. Я внесу локальне виправлення, і наступне місячне оновлення виправить ситуацію.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; А це нічого, що мій антивірус лається на роздачу?</summary>
<p>Нічого. На даний час відомо про кілька причин спрацьовування антивірусів на цю роздачу:</p>
<p class="subtitle"> 1. Інсталятор FLibrary_setup.exe.
<br>Файл генерується одним з найпопулярніших інструментів для створення інсталяторів Inno Setup. Можна припустити, що цим же інструментом користуються і вірусописи, тому сигнатури Inno Setup регулярно потрапляють в антивірусні бази. Що з цим робити? Солідні софтверні контори в аналогічних випадках зв'язуються з вендорами, ті підкручують свої бази, і антивіруси перестають помилково реагувати. На жаль, я не солідна контора, у випадку з FLibrary залишається лише довіритися моєму чесному слову і забити на антивірус. Я так і роблю. Ще можна використовувати msi-інсталятор або архів з "портабельною" версією, на них вірустотал жодного разу не лаявся.
<br>Або ретельно вивчити вихідні коди на предмет шкідливості і збирати проект самостійно.</p>
<p class="subtitle">2. У бібліотеці є книга Олега Михайловича Бойцова "Защити свой компьютер на 100% от вирусов и хакеров", файл 166093.fb2 у архіві fb2-166043-168102.7z.
<br>Схоже, деяким антивірусам не подобаються приклади шкідливого коду, що міститься там. На мою думку, це явний перебір і параноя. Якщо ваша читалка не намагається інтерпретувати і запускати скрипти зі сторінок книг - турбуватися немає про що, можна сміливо додавати *.fb2 у винятки антивіруса.</p>
<p class="subtitle">3. Є також книга Чадова Тимофія "Использование ListView в режиме виртуального списка", файл 170704.fb2 у архіві fb2-168103-172702.7z. В неї автор вклав виконуваний exe-файл, на який лаявся щонайменше один вендор з virustotal. Але, наскільки мені відомо, антивіруси поки що не намагаються парсити fb2 з метою декодувати бінарні вкладення з base64, розпакувати отриманий архів, проаналізувати його вміст. Якщо ваша читалка не намагається досліджувати бінарні вкладення книг, на які немає посилань з її сторінок, з метою запуску раптово знайдених там програм, то знову ж таки немає про що турбуватися.</p>
<hr>
</details>

<details>
    <summary>&#128211; Знайшов косяк у програмі, що робити?</summary>
<ol class="top10">
<li>Переконатися, що косяк є в останньому релізі FLibrary. Особливо це стосується описок, безліч яких була знайдена і виправлена під час написання цих інструкцій.</li>
<li>Запостити багрепорт <a href="https://github.com/heimdallr/books/issues" target="_blank"> тут</a>, по можливості описавши косяк, додавши скріншот, etc</li>
</ol>
<p>Якщо немає облікового запису на гітхабі, а регатися ліньки, то можна написати мені в особисті повідомлення. Або залишити повідомлення в темі. Буду вдячний за будь-який відгук. Але тому, хто запостить на гітхаб багрепорт (або фічерреквест, який буде взятий в роботу), буде надана персональна дорелізна збірка FLibrary. Зі згадкою в About.</p>
<hr>
</details>

<details>
    <summary>&#128211; Обіцяють швидку роботу FLibrary, а насправді тормозить. Набрехали?</summary>
<p>Щонайменше у одного користувача спостерігалися перешкоди в роботі програми з боку Microsoft Defender'а, що проявлялося в уповільненні роботи і підвищеному споживанні оперативної пам'яті. Налаштування Defender'а допомогло.</p>
<p>Спробуйте внести в список виключень антивіруса</p>
<ul>
<li>Папку з програмою</li>
<li>Папку з базою даних колекції</li>
<li>Папку з архівами книг</li>
<li>Папку з тимчасовими файлами (%TEMP%)</li>
</ul>
<hr>
</details>

<details>
    <summary>&#128211; У меню є якісь "розваги". Проставив усі галочки, що далі?</summary>
<p>Розважальний контент з'являється замість порожньої анотації, коли у вікні книг не вибрано жодної книги.</p>
<details>
    <summary class="subtitle">Наприклад</summary>
<p class="img"><img src="img/entertainment/0_800.jpg" alt="&#128558; No picture, bro!" class="img800"></p>
<p class="img"><img src="img/entertainment/1_800.jpg" alt="&#128558; No picture, bro!" class="img800"></p>
<p class="img"><img src="img/entertainment/2_800.jpg" alt="&#128558; No picture, bro!" class="img800"></p>
</details>
<details>
    <summary class="subtitle">Бачу порожню анотацію, де жарти?</summary>
<p class="subtitle">Щоб це працювало, потрібно мати доступ а) до Інтернету, б) до сервісів, які надають контент. Слід враховувати, що деякі сервіси можуть перестати працювати. А до деяких немає доступу з вашої локації без VPN.
<br>З метою діагностики проблеми можна прихованим настроюванням включити показ помилок отримання розважального контенту.</p>
</details>
<details>
    <summary class="subtitle">Чому все англійською?</summary>
<p class="subtitle">Якщо знайдете (або запровадите свій) подібний загальнодоступний (без реєстрації та смс) сервіс іншою мовою — повідомте мене, я додам його. </p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; Для чого в роздачі така кількість інсталяторів FLibrary?</summary>
<p class="subtitle" style="text-align:center"><i>
Three Rings for the Elven-kings under the sky
<br>Seven for the Dwarf-lords in their halls of stone
<br>Nine for Mortal Men doomed to die
</i></p>
<p><b>I FLibrary_setup_x.y.z.exe</b>
<br>Генерується InnoSetup. Основний інсталятор, найбільш зручний і функціональний. Дає можливість</p>
<ul>
<li>Вибрати мову інсталятора</li>
<li>Вибрати режим встановлення тільки для мене/для всіх</li>
<li>Запустити програму відразу після встановлення</li>
</ul>
<p>Є нюанс: його не люблять деякі антивіруси. Кому довіряти, антивірусу чи нам з Jordan Russell і Martijn Laan — вирішуйте самі..</p>
<p><b>II FLibrary_setup_x.y.z.msi</b>
<br>Microsoft Windows Installer. Швидше за все, я просто не вмію його готувати, але</p>
<ul>
<li>Мова інсталятора одна і для універсальності англійська</li>
<li>Програма встановлюється тільки для всіх, в `C:\Program Files`</li>
<li>Після завершення роботи інсталятора автоматично нічого не запускається</li>
</ul>
<p>Буду радий, якщо мене навчать, як зробити msi гладеньким і шовковистим.</p>
<p><b>III FLibrary_portable_x.y.z.7z</b>
<br>Це взагалі не інсталятор, а просто архів з бінарними файлами. Розпаковувати і налаштовувати ярлики запуску доведеться самостійно, вручну. Встановлена таким чином програма зберігає свої налаштування не в реєстрі, а в ini-файлі, що знаходиться поруч, типу portable. Отже, розпаковувати треба туди, де є доступ на запис.</p>
<p><b>Ну і який же встановлювати?</b>
<br>Вміст усіх інсталяторів практично ідентичний, можна встановлювати будь-який, на своє уподобання та досвід. Але раджу перший варіант, оскільки сам використовую саме його. Решта два майже ніколи не тестуються.</p>
<hr>
</details>

<details>
    <summary>&#128211; А де програма зберігає ...?</summary>
<details>
    <summary class="subtitle">налаштування</summary>
<p id="offlink2">Звичайна версія (встановлена інсталятором) - гілка реєстру HKEY_CURRENT_USER\SOFTWARE\HomeCompa\Flibrary</p>
<p>Портабельна версія (з архіву) - файл FLibrary.ini в папці програми/</p>
</details>
<details>
    <summary class="subtitle">журнал работы (логи)</summary>
<p>Файл %TEMP%\HomeCompa.FLibrary.log
<br>Останні записи логу можна переглянути безпосередньо в програмі, натиснувши Esc. Або через меню Налаштування/Вигляд/Журнал/Показати.</p>
</details>
<hr>
</details>

<details>
    <summary>&#128211; А можна повний список прихованих налаштувань FLibrary?</summary>
<p id="offlink1">Мало кому потрібні речі, тому їх немає в інтерфейсі, щоб не захаращувати.</p>
<p class="subtitle"><b>(⊙_⊙) УВАГА!!! Ці налаштування слід додавати за необхідності, за замовчуванням у сховищі налаштувань їх немає.
<br>Де шукати налаштування - див.</b> <a href="#offlink2">"А де програма зберігає ...?"</a></p>
<ul class="top10">
<li>v2.0.0 `Preferences/LibRate/symbol`, число за замовчуванням 11088 - ascii или utf-8 код символу зірочки ⭐ для колонки рейтингу в бібліотеці-джерелі. Коди різних символів можна подивитися <a href="https://www.w3schools.com/charsets" target="_blank">тут</a>. Можна використовувати ті, що мають в Hex не більше чотирьох знаків.</li>
<li>v2.1.2 `Preferences/hideScrollBars`, строка (true | false) за замовчуванням true - керує видимістю скролбарів. Якщо задати “false”, скролбари не будуть ховатися.</li>
<li>v2.1.4 `Preferences/GenresSortMode`, строка (SortByCode | SortByName | SortByChildCount | SortByCodeDesc | SortByNameDesc | SortByChildCountDesc), за замовчуванням SortByCode - режим сортування жанрів</li>
<li>v2.1.4 `Preferences/opds/BookEntryLimit`, число DWORD, за замовчуванням 25 - ліміт на кількість книг, що передається одним списком по http.</li>
<li>v2.2.0 Не налаштування, але прихована функціональність. Комбінація Alt+Shift+Q призведе до появи вікна, в якому можна виконувати SQL-запити до бази даних колекції. Результати виконання запитів - в логах</li>
<li>v2.2.1 `Preferences/opds/transliterate`, строка (true | false) за замовчуванням false - транслітерація назви файлу, завантаженого по http.</li>
<li>v2.2.1 `Preferences/LibRate/precision`, число DWORD, за замовчуванням -1 - замінює зірочки рейтингу книги в бібліотеці на число із визначеною цим параметром точністю. Для дійсно середнього рейтингу по Флібусті знадобитися файл reviews\additional.zip. За відсутності цього налаштування або при його значенні -1 показуються зірочки.</li>
<li>v2.2.1 `Preferences/LibRate/colors/2.0`, `ui/Books/LibRate/colors/3.0`, `ui/Books/LibRate/colors/4.5`тощо. Число DWORD, що відповідає кольору у форматі RRGGBB. Для градієнтного забарвлення цифр рейтингу з попереднього пункту.</li>
<li>v2.2.2 `Preferences/AnnotationJokes/Visible`, строка (true | false) за замовчуванням true - при встановленні в “false” відключає функціональність розважального контенту в порожній анотації</li>
<li>v2.2.2 `Preferences/AnnotationJokes/%ApiName%Visible`, строка (true | false) за замовчуванням true - при встановленні в “false” відключає роботу %ApiName%, ховає відповідний пункт меню “Налаштування/Вигляд/Анотація/Розваги/%ApiNameTitle%”. Є сенс відключити ті API, які є недоступними у вашій місцевості. Або ті, що перестали працювати.</li>
<li>v2.3.0 `Preferences/opds/ReadUrlTemplate` Шаблон посилання на читалку з Web. Наприклад, якщо встановити в "http://127.0.0.1:44080/#/reader?url=http://%HTTP_HOST%:%HTTP_PORT%/Images/fb2/%1" то можна читати книжки ліберамою. Для цього лібераму спочатку треба <a  href="https://github.com/bookpauk/liberama" target="_blank">завантажити</a>, налаштувати і запустити. Можливо, цьому налаштуванню колись знайдеться й інше застосування.</li>
<li>v2.3.0 `Preferences/opds/SeparatedSearch`, строка (true | false) за замовчуванням false - для OPDS і Web-інтерфейсу включає режим роздільного пошуку за авторами, серіями, назвами книг, все разом.</li>
<li>v2.3.0 `Preferences/opds/AutoupdateCollection`, строка (true | false) за замовчуванням false - при встановленні в `true` http-сервер (opds.exe) відстежуватиме inpx і, у разі його зміни, автоматично оновить колекцію.</li>
<li>v2.4.1 `Preferences/StartFocusedControl`, строка (SearchBooksByNames | NavigationSearchAndFilter | BooksSearchAndFilter) за замовчуванням SearchBooksByNames - поле введення, активне при запуску програми.</li>
<li>v2.4.1 `Preferences/Alphabets/LinkedControl`, строка (SearchBooksByNames | NavigationSearchAndFilter | BooksSearchAndFilter) - поле ввода, з яким працює панель алфавітів. За замовчуванням - не вказано, панель алфавітів працює з активним полем ввода, тобто з тим, в якому зараз знаходиться курсор.</li>
<li>v2.4.1 `Preferences/CommonBooksTableColumnSettings`, строка (true | false) за замовчуванням false - при встановленні в `true` налаштування стовпців таблиці книг стане загальним для всіх режимів навігації.</li>
<li>v2.5.0 `Preferences/AnnotationReviewSortMode`, строка (Time | Reviewer | Text | TimeDesc | ReviewerDesc | TextDesc), за замовчуванням Time - режими сортування відгуків читачів в анотації.</li>
<li>v2.5.4 `Preferences/HideToTray`, строка (true | false) за замовчуванням false - при встановленні в `true` програма по Alt+F4 і по натисканню на хрестик в головному вікні ховається в системний трей. Вихід через головне меню і по гарячій клавіші закриває програму.</li>
<li>v2.5.4 `Preferences/MultipleInstance`, строка (Enabled | Disabled | Dialog) - налаштовує можливість запуску декількох екземплярів FLibrary. Enabled - можна запустити кілька екземплярів, Disabled - не можна, при запуску наступного екземпляра програми буде показуватися вже наявний, Dialog - при запуску наступного екземпляра буде показано діалогове вікно. За замовчуванням - Enabled. Але якщо встановлено режим HideToTray (див. вище), то завжди Disabled, незалежно від встановленого значення налаштування.</li>
<li>v2.5.4 `Preferences/Export/TransliterationMode, строка (None | FileNameOnly | AllExceptUserPath | All) - налаштовує транслітерацію імен файлів, що експортуються. За замовчуванням - None, тобто не транслітерувати. FileNameOnly - буде транслітеровано ім'я файлу, AllExceptUserPath - транслітерувати шлях експорту, крім вибраної користувачем папки (%user_destination_folder%), All - транслітерувати весь шлях експорту.</li>
<li>v2.5.4 `Preferences/Interaction/Book/OnLink`, строка (Read | ExtractAsFb2 | ExtractAsZip) - налаштовує поведінку програми при кліку на посилання-заголовок книги в анотації. За замовчуванням - Read - відкрити книгу в читалці. ExtractAsIs - видобути книгу. ExtractAsZip - видобути книгу і запакувати її в zip-архів.</li>
<li>v2.5.4 `Preferences/Interaction/Book/OnDoubleClick`, строка (Read | ExtractAsFb2 | ExtractAsZip) - налаштовує поведінку програми при подвійному кліку на рядку в таблиці книг, значення ті ж, що і в попередньому налаштуванні.</li>
<li>v2.5.4 `Preferences/RelativePaths', строка  (true | false) за замовчуванням false - при встановленні в `true` програма буде зберігати в налаштуваннях відносні шляхи (читалка, скрипти, ...)</li>
<li>v2.5.5 `Preferences/ReadMark/color' - колір мітки прочитаних книг - число DWORD, відповідно до кольору у форматі AABBGGRR, де АА - значення прозорості, а BBGGRR - значення для кожного з кольорів RGB (! Зверніть увагу на послідовність кольорів => B-G-R !). Також слід враховувати, що AA - інвертовано, тобто при значенні прозорості FF (непрозоро 100%) - колір стане повністю прозорим і його не буде видно. 
<br>Встановлення кольору не є обов'язковим для застосування, для виділення прочитаного взагалі можна не вказувати параметр 'color', а вказати лише параметр 'width', в цьому варіанті кольором мітки буде колір тексту (тобто у світлій темі — чорний, у темній — білий). 
<br><b>(⊙_⊙)</b> Книга стає "прочитаною" при встановленні для неї власного рейтингу.</li>
<li>v2.5.5 `Preferences/ReadMark/width', число DWORD, за замовчуванням `0` - ширина мітки прочитаних книг.
<br>Значення '0' прибирає позначку.
<br>У зв'язку з відмінностями інтерфейсів "Список" і "Дерево", рекомендується використовувати значення чисел від 1 до 9. При використанні двозначних чисел, готуйтеся до того, що позначка, яка має гарний вигляд у "Списку", у "дерев'яному" режимі відображення буде виглядати "непрезентабельно".</li>
<li>v2.5.5 `Preferences/opds/converter', розділ для керування конвертацією файлів, що завантажуються за http (opds, web-інтерфейси). Ключі:
<ul>
<li>Preferences/opds/converter/command, строка - шлях до виконуваного файлу (утиліти командного рядка) конвертера</li>
<li>Preferences/opds/converter/arguments, строка - параметри конвертера, за замовчуванням "%src%" "%dst%". Використовуються такі підстановки (макроси): %src% - конвертований .fb2-файл книги, %dst% - файл-результат</li>
<li>Preferences/opds/converter/cwd, строка - робоча директорія для конвертера, що запускається, за замовчуванням - папка з FLibrary.exe</li>
<li>Preferences/opds/converter/ext, строка - розширення файлу після конвертації</li>
</ul>
<b>(⊙_⊙) УВАГА!</b> На web перестане працювати читання. Якщо комусь актуально – повідомте, будь ласка.
</li>
<li>v2.5.5 `Preferences/AnnotationJokes/ShowErrors`, строка  (true | false) за замовчуванням `false` - при встановленні в 'true' у разі помилки отримання розважального контенту показуватиметься її текст.</li>
<li>v2.5.5 `Preferences/Books/Alignment', розділ для керування вирівнюванням полів у таблиці книг. У цьому розділі можна заводити ключі з ім'ям поля та значенням вирівнювання.
<br>Можливі імена полів (ключів): Author, Title, Series, SeqNumber, Genre, Folder, FileName, Size, LibRate, UserRate, UpdateDate, Year, Lang
<br>Можливі значення вирівнювання: AlignLeft, AlignRight, AlignCenter. Якщо цікаво, можна поекспериментувати зі значеннями <a href="https://doc.qt.io/qt-6/qt.html#AlignmentFlag-enum" target="_blank">звідси</a>
</li>
<li>v2.5.5 `Preferences/UserRate/symbol`, число за замовчуванням 11088 - ascii или utf-8 код символу зірочки ⭐ для колонки рейтингу користувача.</li>
<li>v2.5.5 `Preferences/UserRate/noRateSymbol`, ascii или utf-8 код символу для книг з рейтингом "Без оцінки".</li>
<li>v2.5.6 `Preferences/Books/ContextMenu/HashEnabled`, строка  (true | false) за замовчуванням false - при встановленні в 'true' додає в контекстне меню книг підменю "Хеш" з елементами "Обчислення" та "Порівняння". Для тих, хто цікавиться детектором дублів.</li>
</ul>
<hr class="lite">
<details>
   <summary class="subtitle"> Прочитав ЧаПи про приховані налаштування. "Нічого не зрозумів, але було цікаво &copy;".</summary>
<p class="sub_subtitle">Дивно, до вас ніхто не скаржився. Що ж, давайте розжую. Ви захотіли замінити символ зірочки...</p>
<details>
    <summary class="sub_subtitle">Якщо у вас портативна версія FLibrary, то:</summary>
<ol>
<li>Закрийте FLibrary</li>
<li>Відкрийте в текстовому редакторі файл FLibrary.ini з папки програми</li>
<li>Знайдіть у ньому розділ [Preferences] і додайте до нього рядок `LibRate\symbol=9734`</li>
<li>Збережіть файл</li>
<li>Запустіть FLibrary</li>
</ol>
<p class="img"><img src="img/hide_set/1_500.jpg" alt="&#128558; No picture, bro!" class="img500"></p>
<p class="note">* Select another number instead of 9734, according to your preference, for example, <a href="https://www.w3schools.com/charsets/ref_utf_symbols.asp" target="_blank">from here</a>.</p>
<hr class="lite">
</details>
<details>
    <summary class="sub_subtitle">Якщо ваша версія FLibrary встановлена інсталятором, то:</summary>
<ol>
<li>Закрийте FLibrary</li>
<li>Запустіть редактор реєстру</li>
<li>Перейдіть до гілки `HKEY_CURRENT_USER\Software\HomeCompa\FLibrary\Preferences`</li>
<li>Створіть (якщо його там немає) у цій гілці підрозділ `LibRate`</li>
<li>Створіть у цьому підрозділі DWORD параметр `symbol`</li>
<li>Встановіть для цього параметра десяткове значення 9734 (воно ж шістнадцяткове 2606)</li>
<li>Запустіть FLibrary</li>
</ol>
<p class="img"><img src="img/hide_set/0_700.jpg" alt="&#128558; No picture, bro!" class="img700"></p>
<p class="note">* Select another number instead of 9734, according to your preference, for example, <a href="https://www.w3schools.com/charsets/ref_utf_symbols.asp" target="_blank">from here</a>.</p>
<hr class="lite">
</details>
<hr class="lite">
</details>
<details>
   <summary class="subtitle"> I set up conversion to epub for files that I download via the web (opds), but I still get fb2.</summary>
<p class="subtitle"> First, check the registry paths for correctness. 
<br>There is already an opds section in "Computer\HKEY_CURRENT_USER\Software\HomeCompa\FLibrary" - this is not the one you need. The section you need should be in "Preferences". 
<br>All necessary sections and subsections must be created in "Preferences"</p>
<p class="img"><img src="img/hide_set/3_1000.jpg" alt="&#128558; No picture, bro!" class="img1000"></p>
<p class="subtitle">Then check the keys (strings) for errors. 
<br>For most converters, only two keys (strings) are optional: ‘command’ and ‘ext’. The keys “arguments” and ‘cwd’ can be used as desired or as needed. </p>
<p class="note"> * purpose of "CWD" - see <a href="#offlink4">"How to convert a book from fb2..."</a>
<br>.</p>
<details>
    <summary class="sub_subtitle">This is what the .reg file looks like with all the keys written in it.=></summary>
<p class="code">Windows Registry Editor Version 5.00

[HKEY_CURRENT_USER\Software\HomeCompa\FLibrary\Preferences\opds\converter]
"ext"="epub"
"command"="C:\\Program Files\\fb2epub\\Fb2ePub.exe"
"arguments"="\"%src%\" \"%dst%\""
"cwd"="C:\\Program Files\\fb2epub"

</p>
</details>
</details>
<hr>
</details>
<h2 id="footer"> <a href="https://github.com/heimdallr" target="_blank">Copyright (c) 2021-2026 Александр Чирятьев</a>
<br>----------
<br>Translated by <a href="https://github.com/Jurchos" target="_blank">Jurchos</a> using <a href="https://www.deepl.com/uk/translator" target="_blank">DeepL AI</a></h2>
</div>
</body>
</html>
